# ScarletFlow

小红书直播自动回复 Android App

## 功能特性

- **自动发送消息** - 在小红书直播间自动定时发送弹幕
- **多条内容随机** - 支持设置多条回复内容，每次随机选择一条发送
- **高级拟人输入** - 逐字输入 + 随机打错字修正 + 智能节奏变化
- **随机间隔** - 发送间隔有±30%随机波动，避免机械式发送
- **悬浮控制按钮** - 可在任意界面控制启停，无需切换App
- **自定义间隔** - 支持自定义发送间隔时间

## 高级人类打字模拟

开启拟人模式后，打字行为高度模拟真人：

### 1. 位置节奏曲线
- 开头慢（1.3-1.6倍）：思考怎么开始
- 中间快（0.8-1.1倍）：进入打字状态
- 结尾慢（1.1-1.4倍）：检查确认

### 2. 标点符号处理
- 打标点时变慢（切换输入法找符号）
- 句末标点后额外停顿 300-700ms（新句子思考）

### 3. 连击加速机制
- 连续打字越打越快（肌肉进入节奏）
- 每字加速 4%，最多加速 40%
- 超过 500ms 没打字则重置

### 4. 常用词组加速
- 识别：哈哈、好的、谢谢、厉害、加油 等 30+ 常用词
- 打这些词时速度提升至 0.6-0.8 倍

### 5. 随机打错字
- 5% 概率打错（拼音相似字映射，约70个常用字）
- 打错后自动删除重打，模拟真人修正

### 6. 随机卡顿事件
- 2% 大卡顿（800-1500ms）：分心看通知
- 5% 小卡顿（200-500ms）：想下一个字
- 5% 微停顿（80-200ms）
- ±20ms 随机抖动避免规律

## 截图

App 主界面支持：
- 设置多条回复内容（每行一条）
- 自定义发送间隔（秒）
- 拟人输入模式开关
- 悬浮按钮控制

## 使用方法

1. **安装 App**
2. **开启无障碍服务**
   - 点击「开启无障碍服务」
   - 在系统设置中找到「ScarletFlow」并开启
3. **设置回复内容**
   - 输入要发送的内容，每行一条
   - 多条内容会随机发送
4. **设置发送间隔**
   - 输入间隔秒数（建议10秒以上）
5. **开启拟人模式**（推荐）
   - 高级人类打字模拟（见上方详细说明）
   - 逐字输入 + 节奏变化 + 随机打错修正
6. **开始使用**
   - 点击「显示悬浮按钮」
   - 打开小红书进入直播间
   - 点击悬浮按钮开始/停止

## 技术实现

- **语言**: Kotlin
- **最低版本**: Android 7.0 (API 24)
- **核心技术**: AccessibilityService (无障碍服务)
- **UI**: Material Design 3

## 注意事项

- 需要授予无障碍服务权限和悬浮窗权限
- 建议发送间隔不少于10秒，避免触发平台风控
- 小红书更新可能导致界面识别失败，需要适配
- 仅供学习交流使用

## 构建

```bash
# 克隆项目
git clone https://github.com/yaooooo12/ScarletFlow.git

# 使用 Android Studio 打开或命令行构建
./gradlew assembleDebug

# APK 输出位置
app/build/outputs/apk/debug/app-debug.apk
```

## License

MIT License
